# /plan - 実装計画作成コマンド

**説明**: 複雑な機能や実装タスクの詳細な計画を作成します。

## 使用方法

```
/plan [機能の説明]
```

## 概要

`/plan` コマンドは、Plannerエージェントを呼び出し、実装に入る前に詳細な計画を作成します。要件分析、アーキテクチャ設計、ステップ分解を行い、高品質で構造化された計画を提供します。計画を先に書くことで、実装中の手戻りと設計ミスを防ぎます。

## いつ使うか

- **複雑な新機能の実装**: 複数のファイルやモジュールにまたがる変更
- **大規模なリファクタリング**: コードベース全体に影響する変更
- **新しい統合や機能追加**: 外部APIやサービスの統合
- **セキュリティやパフォーマンスの改善**: 重要な変更を計画的に実施

## 使用例

### 例1: 新機能の計画

```
/plan 時間追跡データから請求書を自動生成する機能を追加したい
```

**出力**:
```markdown
# 請求書生成機能 実装計画

## 1. 要件
- Supabaseの時間追跡データを取得
- PDF形式で請求書を出力
- テンプレートのカスタマイズ可能

## 2. アーキテクチャ
- `src/invoicing/` - 請求書生成ロジック
- `src/invoicing/data-fetcher.ts` - Supabaseからデータ取得
- 依存関係: jspdf、@supabase/supabase-js

## 3. 実装ステップ
1. データ取得機能の実装（Supabaseから集計）
2. PDF生成機能の実装（テンプレートへのデータ注入）
3. ユニットテスト・ドキュメント更新

## 4. リスク
- Supabase接続エラー → エラーハンドリングを実装
- PDFフォーマット互換性 → 複数ビューアでテスト
```

## 関連エージェント

- **planner**: このコマンドが呼び出すエージェント（`agents/development/planner.md`）

## 詳細情報

詳細は [skills/plan/SKILL.md](../skills/plan/SKILL.md) を参照してください。

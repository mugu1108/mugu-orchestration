# テスト: doc-updater実装確認

## 目的

doc-updaterエージェント、コマンド、スキルの実装が正しく完了していることを確認するテスト。

## テスト日時

2026-01-26

## 実装内容

### 1. エージェント定義

- **ファイル**: `agents/doc-updater.md`
- **役割**: コード変更に応じてドキュメントを自動更新し、コードとドキュメントの一貫性を維持
- **更新対象ドキュメント**:
  1. README.md
  2. SKILL.md（各スキルディレクトリ）
  3. エージェントドキュメント（agents/*.md）
  4. コマンドドキュメント（commands/*.md）
  5. ルールドキュメント（rules/*.md）
  6. ロードマップ（docs/roadmap.md）

### 2. コマンド定義

- **ファイル**: `commands/doc-update.md`
- **使用方法**: `/doc-update [ドキュメントファイル（省略可）]`
- **機能**:
  - 新機能追加時のドキュメント更新
  - 機能変更時のドキュメント修正
  - 機能削除時のドキュメント削除
  - 定期的な整合性チェック

### 3. スキル登録

- **ファイル**: `skills/doc-update/SKILL.md`
- **トリガーワード**: "doc-update", "ドキュメント更新", "ドキュメント同期", "documentation update", "update docs"
- **カテゴリ**: documentation
- **必要なツール**: Read, Edit, Write, Grep, Glob, Task

### ファイル構成

```
mugu-orchestration/
├── agents/
│   └── doc-updater.md (既存)
├── commands/
│   └── doc-update.md (新規作成)
└── skills/doc-update/
    └── SKILL.md (新規作成)
```

## ドキュメント更新プロセス

### ワークフロー

1. **変更内容の分析**
   - コード変更の内容を特定
   - 影響を受けるドキュメントを洗い出し
   - 更新が必要な箇所を特定

2. **ドキュメントの読み込み**
   - 現在のドキュメントを読み込み
   - 既存の構造を理解
   - 更新箇所を特定

3. **Doc Updaterエージェントの呼び出し**
   - Taskツールで`general-purpose`エージェントを起動
   - `agents/doc-updater.md`の指示に従って実行

4. **ドキュメントの更新**
   - Edit/Writeツールで更新を実行
   - 新しい情報を追加
   - 古い情報を削除
   - 説明を明確化

5. **整合性チェック**
   - リンクの確認
   - フォーマットの統一
   - 用語の一貫性
   - サンプルコードの動作確認

6. **レポート生成**
   - 更新内容のサマリー
   - 変更箇所の詳細
   - 推奨される追加更新

## 更新レポートのフォーマット

```markdown
# ドキュメント更新レポート

## 更新サマリー
- 更新日時: [日時]
- トリガー: [変更内容]
- 更新ドキュメント数: X件

## 更新されたドキュメント

### 1. README.md
- **セクション**: [セクション名]
- **更新内容**: [更新の説明]
- **理由**: [なぜ更新が必要だったか]

## 新規作成されたドキュメント
[新規ドキュメントのリスト]

## 削除されたドキュメント
[削除されたドキュメントのリスト]

## 推奨される追加更新
[手動で更新すべき項目のリスト]
```

## mugu-orchestration固有の更新ルール

### エージェント追加時の更新

```markdown
## エージェント

### [agent-name]
[説明]

**使用方法**:
```
/[command-name] [引数]
```

**詳細**: [agents/[agent-name].md](agents/[agent-name].md)
```

### バージョン履歴の形式

```markdown
## バージョン履歴

- **v0.X.0** (YYYY-MM-DD) - [フェーズ名]
  - [追加された機能1]
  - [追加された機能2]
```

### リンクの形式

- 内部リンク: 相対パス `[テキスト](agents/planner.md)`
- 外部リンク: 絶対URL `[テキスト](https://example.com)`

## 結論

✅ **実装完了**: doc-updaterエージェント、コマンド、スキル登録が完了した。

### 確認事項

- ✅ エージェント定義ファイルが存在する
- ✅ コマンド定義ファイルが作成された
- ✅ スキル登録ファイルが作成された
- ✅ ドキュメント更新プロセスが文書化されている
- ✅ mugu-orchestration固有の更新ルールが定義されている
- ✅ 更新レポートのフォーマットが定義されている

## ロードマップ更新

以下の項目を完了としてマーク:

- ✅ doc-updater エージェント
- ✅ /doc-update コマンド（コマンド定義として実装）

## フェーズ2完了

全てのエージェントとコマンドが実装完了:

- ✅ planner エージェント & /plan コマンド
- ✅ code-reviewer エージェント & /code-review コマンド
- ✅ security-reviewer エージェント & /security-review コマンド
- ✅ doc-updater エージェント & /doc-update コマンド

## 関連ファイル

- `agents/doc-updater.md` - エージェント定義
- `commands/doc-update.md` - コマンド定義
- `skills/doc-update/SKILL.md` - スキル登録

## ドキュメント品質チェックリスト

### コミット前
- [ ] 新機能がREADME.mdに記載されている
- [ ] バージョン履歴が更新されている
- [ ] 全てのリンクが有効
- [ ] サンプルコードが動作する

### Pull Request前
- [ ] 全てのドキュメントが更新されている
- [ ] 用語が一貫している
- [ ] フォーマットが統一されている
- [ ] 整合性チェックが完了

## ベストプラクティス

1. **コード変更と同時に更新**: プルリクエストにドキュメント更新を含める
2. **明確で簡潔な説明**: 専門用語は定義し、具体例を含める
3. **一貫性の維持**: 用語、フォーマット、スタイルを統一
4. **サンプルコードの動作確認**: 実際に動作するコードを記載
5. **バージョン管理**: 変更履歴を記録し、破壊的変更を明記

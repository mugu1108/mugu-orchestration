# Slide Reviewer Agent - スライドレビューエージェント

## 概要

Slide Reviewerエージェントは、生成されたMarpスライドをレビュー・ブラッシュアップする専門サブエージェントです。フォーマットと内容の両面からチェックを行い、修正提案または自動修正を実施します。

## 親エージェント

- `agents/slide-creator.md` - Slide Creatorエージェント

## 使用タイミング

以下の場合にSlide Reviewerエージェントを使用してください：

1. **スライド生成後の品質チェック**
   - Slide Creatorで生成したスライドのレビュー
   - はみ出し・フォーマット問題の検出

2. **既存スライドの改善**
   - 過去に作成したスライドのブラッシュアップ
   - プレゼン前の最終チェック

3. **内容の精査**
   - 論理構成の確認
   - 対象者への適合性チェック

## レビュー項目

### 1. フォーマットチェック

#### コードブロック制限

| チェック項目 | 基準 | 重要度 |
|-------------|------|--------|
| コード行数 | **8行以内** | 必須 |
| コード + テキスト | コード6行 + テキスト2-3行 | 必須 |
| 複数コードブロック | 合計8行以内 | 必須 |

**違反時のアクション**: 自動分割提案

#### コンテンツ量

| チェック項目 | 基準 | 重要度 |
|-------------|------|--------|
| 箇条書き | 6項目以内 | 必須 |
| 段落 | 2-3段落以内 | 必須 |
| テーブル | 5行 × 4列以内 | 必須 |

**違反時のアクション**: 分割または簡略化提案

#### Marp構文

| チェック項目 | 内容 |
|-------------|------|
| フロントマター | 必須項目の存在確認 |
| スライド区切り | `---` の正しい配置 |
| レイアウト指定 | `<!-- _class: xxx -->` の構文 |
| コードブロック | 言語指定、閉じタグ |

**違反時のアクション**: 構文エラー修正

#### ビジュアル一貫性

| チェック項目 | 基準 |
|-------------|------|
| フォントサイズ階層 | h1:48px, h2:36px, h3:28px, body:24px |
| 絵文字使用量 | 1スライド1-2個まで |
| スペーシング | 適切な余白 |

### 2. 内容チェック

#### 論理構成

| チェック項目 | 内容 |
|-------------|------|
| 流れの自然さ | 導入 → 本題 → まとめ の流れ |
| 飛躍の有無 | 突然の話題転換がないか |
| セクション間の繋がり | 各セクションが論理的に接続 |

**違反時のアクション**: 構成改善提案

#### 対象者適合性

| チェック項目 | 内容 |
|-------------|------|
| 専門用語 | 対象者レベルに適した用語か |
| 説明の詳細度 | 初心者向けなら詳細、上級者向けなら簡潔 |
| 前提知識 | 必要な前提知識が明示されているか |

**違反時のアクション**: 表現の調整提案

#### テキスト品質

| チェック項目 | 内容 |
|-------------|------|
| 誤字脱字 | タイポの検出 |
| 表記ゆれ | 同じ用語の表記統一 |
| 文法 | 文法的な誤りの検出 |

**違反時のアクション**: 修正提案

#### 時間配分

| チェック項目 | 基準 |
|-------------|------|
| スライド枚数 | 1分あたり1-2枚程度 |
| 実習時間 | ハンズオンの場合、適切な時間確保 |
| バランス | 各セクションの時間配分 |

**違反時のアクション**: 枚数調整提案

## ワークフロー

```
【レビューフロー】

スライドファイル入力
    │
    ↓
Slide Reviewer エージェント
    │
    ├── Phase 1: フォーマットチェック
    │   ├── コードブロック行数カウント
    │   ├── コンテンツ量測定
    │   ├── Marp構文検証
    │   └── ビジュアル一貫性確認
    │
    ├── Phase 2: 内容チェック
    │   ├── 論理構成分析
    │   ├── 対象者適合性評価
    │   ├── テキスト品質チェック
    │   └── 時間配分確認
    │
    ├── Phase 3: レポート生成
    │   ├── 問題点リスト
    │   ├── 重要度分類（必須/推奨）
    │   └── 修正提案
    │
    └── Phase 4: 修正実行（オプション）
        ├── 自動修正可能な項目を修正
        └── 修正結果の報告
```

## レポートフォーマット

```markdown
# スライドレビューレポート

## 対象ファイル
./slides/example-slide-20260129.md

## サマリー
- 総スライド数: 25枚
- 問題検出数: 3件（必須: 2件、推奨: 1件）
- 修正提案数: 3件

---

## フォーマットチェック結果

### 必須修正（はみ出しの原因）

#### 1. スライド #12「実装例」
- **問題**: コードブロックが12行（上限8行超過）
- **提案**: 2スライドに分割
  - スライド12a「実装例（1/2）」: 型定義（6行）
  - スライド12b「実装例（2/2）」: 関数実装（6行）

#### 2. スライド #18「まとめ」
- **問題**: 箇条書きが8項目（上限6項目超過）
- **提案**: 重要な6項目に絞る、または2スライドに分割

### 推奨修正

#### 1. スライド #5「アジェンダ」
- **問題**: 絵文字が4個（推奨1-2個）
- **提案**: 重要な2個に削減

---

## 内容チェック結果

### 論理構成
- **評価**: 良好
- **コメント**: 導入→本題→まとめの流れが明確

### 対象者適合性
- **評価**: 要改善
- **問題**: スライド #8 に初心者には難しい専門用語あり
- **提案**: 「クロージャ」→「関数の中で定義された関数」に言い換え

### テキスト品質
- **誤字脱字**: 0件
- **表記ゆれ**: 1件（"JavaScript" と "Javascript" の混在）

### 時間配分
- **評価**: 適切
- **スライド数**: 25枚 / 30分 = 1.2分/枚（適正範囲）

---

## 修正アクション

□ 自動修正を実行しますか？ (フォーマット問題のみ)
□ すべての修正提案を適用しますか？
□ レポートのみ出力しますか？
```

## 使用例

### 例1: 生成後の自動レビュー

```
ユーザー: スライドを生成してレビューまでお願いします

Slide Creator: スライドを生成しました
  → ./slides/nextjs-15-features-20260129.md

Slide Reviewer: レビューを開始します

  【フォーマットチェック】
  ✅ コードブロック行数: OK
  ⚠️ スライド #15: 箇条書き7項目 → 6項目に削減を推奨
  ✅ Marp構文: OK

  【内容チェック】
  ✅ 論理構成: 良好
  ✅ 対象者適合性: 適切
  ⚠️ 表記ゆれ: "Next.js" と "NextJS" の混在

  修正を適用しますか？
```

### 例2: 既存スライドのレビュー

```
ユーザー: ./slides/old-presentation.md をレビューしてください

Slide Reviewer: レビューを開始します

  【問題検出: 5件】

  必須修正:
  1. スライド #8: コード15行 → 2分割必要
  2. スライド #12: コード + テキストでオーバー

  推奨修正:
  3. スライド #3: 絵文字5個 → 2個に削減
  4. スライド #20: 専門用語の言い換え推奨
  5. 表記ゆれ: 3箇所

  自動修正を実行しますか？
```

## 修正モード

### 1. レポートのみ

問題点と修正提案をレポート出力するのみ。修正は手動で実施。

### 2. 提案付きレビュー

問題点ごとに修正案を提示し、ユーザーが選択して適用。

### 3. 自動修正

フォーマット問題（コード分割、構文修正）を自動で修正。
内容の修正は確認後に適用。

## 関連ファイル

- `agents/slide-creator.md` - 親エージェント
- `skills/slide/SKILL.md` - スキル定義
- `docs/slide-content-guidelines.md` - コンテンツ量制限ルール
- `skills/slide/references/visual-hierarchy.md` - ビジュアル階層ガイドライン
- `skills/slide/references/marp-syntax.md` - Marp構文リファレンス

## 呼び出し方法

### Slide Creatorからの自動呼び出し

```
/slide TypeScript入門セミナー --review
```

### 既存スライドの手動レビュー

```
/slide-review ./slides/existing-slide.md
```

### レビューのみ（修正なし）

```
/slide-review ./slides/existing-slide.md --report-only
```
